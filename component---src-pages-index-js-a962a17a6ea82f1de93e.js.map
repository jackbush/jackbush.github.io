{"version":3,"file":"component---src-pages-index-js-a962a17a6ea82f1de93e.js","mappings":"oKAKA,MAAMA,EAAqC,oBAAXC,OAAyBC,EAAAA,MAAAA,EAA+C,KAClGC,EAAoB,eAEpBC,EAAyB,CAC7BC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,OACPC,OAAQ,OACRC,QAAS,GAqBX,UAZkB,KALM,oBAAXT,QACVD,EAAiBG,GAOhB,gBAAC,IAAM,KACL,uBAAKQ,MAAOP,EAAwBQ,GAAIT,IACxC,4BACE,sBAAIQ,MAAOE,EAAAA,GAAAA,OAAkB,W,wFC7B9B,MCIMb,EAAoBc,GAkNzB,IAAIC,IAAJ,EAjNQ,SAAUC,GACxB,IAAIC,EACAC,EACAC,EACJ,MAAMC,EAAS,CACdC,UAAW,GACXC,OAAQ,EAERC,QAAS,IAGTC,OAAQ,GAERC,MAAO,GACPC,aAAc,IAEdC,WAAYC,EAAAA,GAAAA,UACZC,iBAAkBC,EAAAA,GAAAA,YAwDnB,SAASC,EAAQ1B,GAChB2B,KAAKC,MAAQ,GACbD,KAAKE,OAASlB,EAAEmB,aAAa9B,EAAS+B,EAAG/B,EAASgC,EACnD,CAsBA,SAASC,EAAKjC,GACb2B,KAAK3B,SAAWW,EAAEmB,aAAa9B,EAAS+B,EAAG/B,EAASgC,GAGpDL,KAAKO,OAAS,CACb,IAAIC,EAAM,GACV,IAAIA,EAAM,GACV,IAAIA,EAAM,GACV,IAAIA,EAAM,GACV,IAAIA,EAAM,IAOXR,KAAKS,UAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACjD,CAsBA,SAASD,EAAME,GAGdV,KAAKU,OAASA,EAEdV,KAAKW,ODzIc,EAACC,EAAQC,KAE9B,MAAMC,EAAQF,GADdC,EAASA,GAAU,IACaE,KAAKC,SAAW,EAEhD,OAAOJ,GADUE,EAAQA,EAAQ,EACT,ECqIRG,CAA0B,IAAnBhC,EAAUR,OAAe,KAC9CuB,KAAKkB,cAAgBlB,KAAKW,OAC1BX,KAAKmB,UAAYnB,KAAKW,QAAU,EAAIvB,EAAOI,QAC3CQ,KAAKoB,UAAYpB,KAAKW,QAAU,EAAIvB,EAAOI,QAG3CQ,KAAKqB,UAAYN,KAAKC,SAAW,GAGjChB,KAAK3B,SAAW2B,KAAKsB,eAAetB,KAAKU,OAAQV,KAAKW,OACvD,CAnIAvB,EAAOG,SAAW,IAElBH,EAAOK,OAASL,EAAOC,UAEvBD,EAAOK,QAAU,EAEjBT,EAAEuC,MAAQ,WAETvC,EAAEK,UAAUD,EAAOC,WAGnBJ,EDrC8BH,KAChC,MAAM0C,EAAKC,SAASC,eAAe5C,GAC7B6C,EAAO,CAAC,EAId,OAHAA,EAAKnD,MAAQgD,EAAGI,YAChBD,EAAKlD,OAAS+C,EAAGK,aAEVF,CAAI,EC+BGG,CAAiBhD,GAG7BI,EAASF,EAAE+C,aAAa9C,EAAUT,MAAOS,EAAUR,QAGnDS,EAAO8C,OAAOlD,GAGd,MAAMT,EAAWW,EAAEmB,aACA,GAAlBlB,EAAUT,MACS,GAAnBS,EAAUR,QAEXU,EAAc,IAAIY,EAAQ1B,GAC1Bc,EAAY8C,IAAI7C,EAAOE,QAGnBF,EAAOO,aAAeC,EAAAA,GAAAA,YACzBR,EAAOO,WAAaX,EAAEkD,MACrB9C,EAAOO,WAAWwC,EAClB/C,EAAOO,WAAWyC,EAClBhD,EAAOO,WAAW0C,EAClBjD,EAAOG,UAKTP,EAAEsD,KAAKlD,EAAOO,YACdX,EAAEuD,UACH,EAGAvD,EAAEwD,cAAgBxD,EAAEuC,MAEpBvC,EAAEyD,KAAO,WACRzD,EAAE0D,WAAWtD,EAAOS,kBACpBV,EAAYwD,SACZxD,EAAYyD,SACb,EAQA7C,EAAQ8C,UAAUZ,IAAM,SAAUa,GACjCA,EAAiBA,GAAkB,EACnC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAgBC,IACnC/C,KAAKC,MAAM+C,KAAK,IAAI1C,EAAKN,KAAKE,QAEhC,EAEAH,EAAQ8C,UAAUF,OAAS,WAC1B3C,KAAKC,MAAMgD,SAAQ,SAAUC,GAC5BA,EAAKP,QACN,GACD,EAEA5C,EAAQ8C,UAAUD,QAAU,WAC3B5C,KAAKC,MAAMgD,SAAQ,SAAUC,GAC5BA,EAAKN,SACN,GACD,EAsBAtC,EAAKuC,UAAUF,OAAS,WACvB3C,KAAKO,OAAO0C,SAAQ,SAAUE,GAC7BA,EAAMR,QACP,GACD,EAEArC,EAAKuC,UAAUD,QAAU,WACxB5D,EAAEoE,aAEF,MAAMC,EAAOrD,KACbA,KAAKS,UAAUwC,SAAQ,SAAUK,GAChCtE,EAAEuE,YACDF,EAAKhF,SAAS+B,EAAIiD,EAAK9C,OAAO+C,GAAGjF,SAAS+B,EAC1CiD,EAAKhF,SAASgC,EAAIgD,EAAK9C,OAAO+C,GAAGjF,SAASgC,EAE5C,IAEArB,EAAEwE,SAASxE,EAAEyE,MACd,EAmBAjD,EAAMqC,UAAUF,OAAS,WAGpB3C,KAAKW,QAA2B,IAAjBX,KAAKoB,YAAkBpB,KAAKqB,WAAY,GACvDrB,KAAKW,QAA2B,KAAjBX,KAAKmB,YAAkBnB,KAAKqB,WAAY,GAG3D,MAAMhD,EAAW2B,KAAKW,OAASX,KAAKkB,cAAgB,EAEpD,IAAIwC,EACHtE,EAAOM,aAAeN,EAAOK,MAAQsB,KAAK4C,IAAItF,EAAU,GACxDe,EAAOK,MAGHO,KAAKqB,YAAWqC,IAAU,GAG/B1D,KAAKW,QAAU+C,EACf1D,KAAK3B,SAAW2B,KAAKsB,eAAetB,KAAKU,OAAQV,KAAKW,OACvD,EAEAH,EAAMqC,UAAUvB,eAAiB,SAAUZ,EAAQC,GAClD,MAAMiD,EAAS,CACdxD,EAAG,EACHC,EAAG,GAKJ,OAAQK,GACP,KAAK,EACJkD,EAAOxD,EAAI,EACXwD,EAAOvD,GAAK,EAAIM,EAChB,MACD,KAAK,EACL,KAAK,EACJiD,EAAOxD,EAAIO,EAAS3B,EAAE6E,IAAI,IAC1BD,EAAOvD,GAAK,EAAIM,EAAS3B,EAAE8E,IAAI,IAC/B,MACD,KAAK,EACL,KAAK,EACJF,EAAOxD,EAAIO,EAAS3B,EAAE6E,IAAI,IAC1BD,EAAOvD,EAAIM,EAAS3B,EAAE8E,IAAI,IAS5B,OAFe,IAAXpD,GAA2B,IAAXA,IAAckD,EAAOxD,IAAM,GAExCwD,CACR,CACD,GAEsB9E,E","sources":["webpack://jackbush-homepage/./src/pages/index.js","webpack://jackbush-homepage/./src/sketches/_utils.js","webpack://jackbush-homepage/./src/sketches/blob.js"],"sourcesContent":["import * as React from \"react\";\nimport Layout from \"../components/layout\";\nimport { typography } from \"../tokens\";\n\n// SHONK: not allowed to import normally in a block\nconst blobSketchLoader = typeof window !== 'undefined' ? require('../sketches/blob').blobSketchLoader : null; \nconst sketchContainerId = \"jsSketchBlob\";\n\nconst sketchContainterStyles = {\n  position: \"fixed\",\n  top: 0,\n  left: 0,\n  width: \"100%\",\n  height: \"100%\",\n  zIndex: -1,\n};\n\nconst componentDidMount = () => {\n  if (typeof window !== 'undefined') {\n   blobSketchLoader(sketchContainerId)\n  }\n}\n\nconst IndexPage = () => {\n  componentDidMount()\n  return (\n    <Layout>\n      <div style={sketchContainterStyles} id={sketchContainerId} />\n      <main>\n        <h1 style={typography.title}>ðŸ‘‹ Hi</h1>\n      </main>\n    </Layout>\n  );\n};\n\nexport default IndexPage;\n\n// export const Head = () => <title>Home Page</title>\n","export const measureContainer = (containerId) => {\n\tconst el = document.getElementById(containerId);\n\tconst size = {};\n\tsize.width = el.clientWidth;\n\tsize.height = el.clientHeight;\n\n\treturn size;\n};\n\n// This is used to give numbers a variance, defaulting to 10%\nexport const jitter = (number, factor) => {\n\tfactor = factor || 0.1;\n\tconst range = number * factor * Math.random() * 2;\n\tconst variance = range - range / 2;\n\treturn number + variance;\n};\n","import p5 from \"p5\";\nimport { coreColour, semanticColour } from \"../tokens\";\nimport { measureContainer, jitter } from \"./_utils\";\n\nexport const blobSketchLoader = (containerId) => {\n\tconst sketch = function (p) {\n\t\tlet container;\n\t\tlet canvas;\n\t\tlet brandDevice;\n\t\tconst config = {\n\t\t\tframeRate: 60,\n\t\t\tlayers: 5,\n\t\t\t// float: 0 = transparent, 1 = opaque\n\t\t\topacity: 0.15,\n\t\t\t// Decimal value between 0 and 1\n\t\t\t// NOTE other stuff breaks when this isn't 0.1\n\t\t\tspread: 0.1,\n\t\t\t// Arbitrary constants...\n\t\t\tspeed: 20,\n\t\t\tacceleration: 100,\n\n\t\t\tblobColour: coreColour.lightblue,\n\t\t\tbackgroundColour: semanticColour.background,\n\t\t};\n\n\t\t// Convert opacity to the scale p5 expects...\n\t\tconfig.opacity *= 255;\n\t\t// Convert speed to be independent of framerate (defaults to 60)\n\t\tconfig.speed /= config.frameRate;\n\t\t// Correct speed for how we actually use it -- otherwise things get really counterintuitive\n\t\tconfig.speed *= -1;\n\n\t\tp.setup = function () {\n\t\t\t// Set framerate\n\t\t\tp.frameRate(config.frameRate);\n\n\t\t\t// Get container details\n\t\t\tcontainer = measureContainer(containerId);\n\n\t\t\t// Create a canvas from container size\n\t\t\tcanvas = p.createCanvas(container.width, container.height);\n\n\t\t\t// Attach canvas to container\n\t\t\tcanvas.parent(containerId);\n\n\t\t\t// Get position for brand device, create and add blobs\n\t\t\tconst position = p.createVector(\n\t\t\t\tcontainer.width * 0.5,\n\t\t\t\tcontainer.height * 0.5\n\t\t\t);\n\t\t\tbrandDevice = new Cluster(position);\n\t\t\tbrandDevice.add(config.layers);\n\n\t\t\t// If it's not been done, change generic colour to the p5 format with opapcity\n\t\t\tif (config.blobColour === coreColour.lightblue) {\n\t\t\t\tconfig.blobColour = p.color(\n\t\t\t\t\tconfig.blobColour.r,\n\t\t\t\t\tconfig.blobColour.g,\n\t\t\t\t\tconfig.blobColour.b,\n\t\t\t\t\tconfig.opacity\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Set p5's fill and stroke here, as they don't change\n\t\t\tp.fill(config.blobColour);\n\t\t\tp.noStroke();\n\t\t};\n\n\t\t// Set to re-start on window resize\n\t\tp.windowResized = p.setup;\n\n\t\tp.draw = function () {\n\t\t\tp.background(config.backgroundColour);\n\t\t\tbrandDevice.update();\n\t\t\tbrandDevice.display();\n\t\t};\n\n\t\t// A Cluster is a collection of Blobs, which share a center.\n\t\tfunction Cluster(position) {\n\t\t\tthis.blobs = [];\n\t\t\tthis.center = p.createVector(position.x, position.y);\n\t\t}\n\n\t\tCluster.prototype.add = function (numberOfLayers) {\n\t\t\tnumberOfLayers = numberOfLayers || 1;\n\t\t\tfor (let i = 0; i < numberOfLayers; i++) {\n\t\t\t\tthis.blobs.push(new Blob(this.center));\n\t\t\t}\n\t\t};\n\n\t\tCluster.prototype.update = function () {\n\t\t\tthis.blobs.forEach(function (blob) {\n\t\t\t\tblob.update();\n\t\t\t});\n\t\t};\n\n\t\tCluster.prototype.display = function () {\n\t\t\tthis.blobs.forEach(function (blob) {\n\t\t\t\tblob.display();\n\t\t\t});\n\t\t};\n\n\t\t// A Blob is an irregular, undulating shape\n\t\tfunction Blob(position) {\n\t\t\tthis.position = p.createVector(position.x, position.y);\n\n\t\t\t// Hard-coded because the coordinate system only works for five!\n\t\t\tthis.points = [\n\t\t\t\tnew Point(0),\n\t\t\t\tnew Point(1),\n\t\t\t\tnew Point(2),\n\t\t\t\tnew Point(3),\n\t\t\t\tnew Point(4),\n\t\t\t];\n\n\t\t\t// This is the order we must draw points to create the blob:\n\t\t\t// [0, 3, 1, 4, 2]\n\n\t\t\t// This loops around three points further at each end, for a smooth join\n\t\t\tthis.drawCycle = [1, 4, 2, 0, 3, 1, 4, 2, 0, 3, 1];\n\t\t}\n\n\t\tBlob.prototype.update = function () {\n\t\t\tthis.points.forEach(function (point) {\n\t\t\t\tpoint.update();\n\t\t\t});\n\t\t};\n\n\t\tBlob.prototype.display = function () {\n\t\t\tp.beginShape();\n\n\t\t\tconst that = this;\n\t\t\tthis.drawCycle.forEach(function (n) {\n\t\t\t\tp.curveVertex(\n\t\t\t\t\tthat.position.x + that.points[n].position.x,\n\t\t\t\t\tthat.position.y + that.points[n].position.y\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tp.endShape(p.CLOSE);\n\t\t};\n\n\t\tfunction Point(vertex) {\n\t\t\t// Vertex is an index, going clockwise from 12 o'clock\n\t\t\t// This is used by the getCoordinates function\n\t\t\tthis.vertex = vertex;\n\n\t\t\tthis.radius = jitter(container.height * 0.35, 0.25);\n\t\t\tthis.initialRadius = this.radius;\n\t\t\tthis.minRadius = this.radius * (1 - config.spread);\n\t\t\tthis.maxRadius = this.radius * (1 + config.spread);\n\n\t\t\t// Which direction the point starts moving in\n\t\t\tthis.isGrowing = Math.random() < 0.5;\n\n\t\t\t// Points are created with a position for flexibility\n\t\t\tthis.position = this.getCoordinates(this.vertex, this.radius);\n\t\t}\n\n\t\tPoint.prototype.update = function () {\n\t\t\t// Change directions if radius is out of bounds\n\t\t\t// The adjustment of min and max here is because otherwise we get stuck in limits!\n\t\t\tif (this.radius >= this.maxRadius * 0.99) this.isGrowing = false;\n\t\t\tif (this.radius <= this.minRadius * 1.01) this.isGrowing = true;\n\n\t\t\t// position is the point's position between min (-spread) and max (spread);\n\t\t\tconst position = this.radius / this.initialRadius - 1;\n\t\t\t// delta is the difference between the current radius and the next one\n\t\t\tlet delta =\n\t\t\t\tconfig.acceleration * config.speed * Math.pow(position, 2) -\n\t\t\t\tconfig.speed;\n\n\t\t\t// Correct radius change for direction\n\t\t\tif (!this.isGrowing) delta *= -1;\n\n\t\t\t// Update radius and position\n\t\t\tthis.radius += delta;\n\t\t\tthis.position = this.getCoordinates(this.vertex, this.radius);\n\t\t};\n\n\t\tPoint.prototype.getCoordinates = function (vertex, radius) {\n\t\t\tconst result = {\n\t\t\t\tx: 0.0,\n\t\t\t\ty: 0.0,\n\t\t\t};\n\n\t\t\t// This is sepecifically for a five-point blob\n\t\t\t// This only has three options because symmetry\n\t\t\tswitch (vertex) {\n\t\t\t\tcase 0:\n\t\t\t\t\tresult.x = 0;\n\t\t\t\t\tresult.y = -1 * radius;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\tcase 4:\n\t\t\t\t\tresult.x = radius * p.cos(18);\n\t\t\t\t\tresult.y = -1 * radius * p.sin(18);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\tcase 3:\n\t\t\t\t\tresult.x = radius * p.cos(54);\n\t\t\t\t\tresult.y = radius * p.sin(54);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Mirrors for left-side points\n\t\t\tif (vertex === 3 || vertex === 4) result.x *= -1;\n\n\t\t\treturn result;\n\t\t};\n\t};\n\n\treturn new p5(sketch, containerId);\n};\n"],"names":["blobSketchLoader","window","require","sketchContainerId","sketchContainterStyles","position","top","left","width","height","zIndex","style","id","typography","containerId","p5","p","container","canvas","brandDevice","config","frameRate","layers","opacity","spread","speed","acceleration","blobColour","coreColour","backgroundColour","semanticColour","Cluster","this","blobs","center","createVector","x","y","Blob","points","Point","drawCycle","vertex","radius","number","factor","range","Math","random","jitter","initialRadius","minRadius","maxRadius","isGrowing","getCoordinates","setup","el","document","getElementById","size","clientWidth","clientHeight","measureContainer","createCanvas","parent","add","color","r","g","b","fill","noStroke","windowResized","draw","background","update","display","prototype","numberOfLayers","i","push","forEach","blob","point","beginShape","that","n","curveVertex","endShape","CLOSE","delta","pow","result","cos","sin"],"sourceRoot":""}